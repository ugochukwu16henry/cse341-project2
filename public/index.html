<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Library API Documentation</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="hero">
    <div class="container">
      <h1 class="hero-title">üéÆ Game Library API</h1>
      <p class="hero-subtitle">A comprehensive RESTful API for managing video games and reviews</p>
      <div class="hero-stats">
        <div class="stat">
          <span class="stat-number">2</span>
          <span class="stat-label">Collections</span>
        </div>
        <div class="stat">
          <span class="stat-number">11</span>
          <span class="stat-label">Endpoints</span>
        </div>
        <div class="stat">
          <span class="stat-number">100%</span>
          <span class="stat-label">CRUD Coverage</span>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Base URL Section -->
    <section class="section">
      <h2 class="section-title">üì° Base URL</h2>
      <div class="code-block">
        <code id="baseUrl">http://localhost:3000/api</code>
        <button class="copy-btn" onclick="copyToClipboard('baseUrl')">Copy</button>
      </div>
    </section>

    <!-- Games Endpoints -->
    <section class="section">
      <h2 class="section-title">üéÆ Games Endpoints</h2>
      
      <!-- GET all games -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="path">/games</span>
        </div>
        <p class="endpoint-description">Retrieve all games from the library</p>
        <button class="test-btn" onclick="testEndpoint('GET', '/api/games')">Test Endpoint</button>
        
        <div class="response-example">
          <h4>Response Example:</h4>
          <pre><code>{
  "success": true,
  "count": 2,
  "data": [
    {
      "_id": "507f1f77bcf86cd799439011",
      "title": "The Legend of Zelda: Breath of the Wild",
      "genre": "Action-Adventure",
      "platform": "Nintendo Switch",
      "releaseYear": 2017,
      "publisher": "Nintendo",
      "rating": 9.5,
      "description": "An open-world adventure game"
    }
  ]
}</code></pre>
        </div>
      </div>

      <!-- GET single game -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="path">/games/:id</span>
        </div>
        <p class="endpoint-description">Retrieve a specific game by ID</p>
        <div class="params">
          <h4>Path Parameters:</h4>
          <ul>
            <li><strong>id</strong> (string, required) - MongoDB ObjectId of the game</li>
          </ul>
        </div>
      </div>

      <!-- POST create game -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method post">POST</span>
          <span class="path">/games</span>
        </div>
        <p class="endpoint-description">Create a new game entry</p>
        
        <div class="params">
          <h4>Request Body:</h4>
          <pre><code>{
  "title": "Elden Ring",
  "genre": "Action RPG",
  "platform": "PlayStation 5",
  "releaseYear": 2022,
  "publisher": "Bandai Namco",
  "rating": 9.2,
  "description": "An epic dark fantasy action RPG"
}</code></pre>
        </div>

        <button class="test-btn" onclick="testCreateGame()">Test Create</button>
      </div>

      <!-- PUT update game -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method put">PUT</span>
          <span class="path">/games/:id</span>
        </div>
        <p class="endpoint-description">Update an existing game</p>
        <div class="params">
          <h4>Path Parameters:</h4>
          <ul>
            <li><strong>id</strong> (string, required) - MongoDB ObjectId of the game</li>
          </ul>
          <h4>Request Body:</h4>
          <p>Same as POST /games (all fields required)</p>
        </div>
      </div>

      <!-- DELETE game -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method delete">DELETE</span>
          <span class="path">/games/:id</span>
        </div>
        <p class="endpoint-description">Delete a game and all its reviews</p>
        <div class="params">
          <h4>Path Parameters:</h4>
          <ul>
            <li><strong>id</strong> (string, required) - MongoDB ObjectId of the game</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Reviews Endpoints -->
    <section class="section">
      <h2 class="section-title">‚≠ê Reviews Endpoints</h2>
      
      <!-- GET all reviews -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="path">/reviews</span>
        </div>
        <p class="endpoint-description">Retrieve all reviews</p>
        <button class="test-btn" onclick="testEndpoint('GET', '/api/reviews')">Test Endpoint</button>
      </div>

      <!-- GET reviews by game -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="path">/reviews/game/:gameId</span>
        </div>
        <p class="endpoint-description">Get all reviews for a specific game</p>
        <div class="params">
          <h4>Path Parameters:</h4>
          <ul>
            <li><strong>gameId</strong> (string, required) - MongoDB ObjectId of the game</li>
          </ul>
        </div>
      </div>

      <!-- GET single review -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method get">GET</span>
          <span class="path">/reviews/:id</span>
        </div>
        <p class="endpoint-description">Retrieve a specific review by ID</p>
      </div>

      <!-- POST create review -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method post">POST</span>
          <span class="path">/reviews</span>
        </div>
        <p class="endpoint-description">Create a new review</p>
        
        <div class="params">
          <h4>Request Body:</h4>
          <pre><code>{
  "gameId": "507f1f77bcf86cd799439011",
  "reviewerName": "John Gamer",
  "rating": 5,
  "comment": "Amazing gameplay and stunning graphics!"
}</code></pre>
        </div>

        <button class="test-btn" onclick="testCreateReview()">Test Create</button>
      </div>

      <!-- PUT update review -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method put">PUT</span>
          <span class="path">/reviews/:id</span>
        </div>
        <p class="endpoint-description">Update an existing review</p>
      </div>

      <!-- DELETE review -->
      <div class="endpoint">
        <div class="endpoint-header">
          <span class="method delete">DELETE</span>
          <span class="path">/reviews/:id</span>
        </div>
        <p class="endpoint-description">Delete a review</p>
      </div>
    </section>

    <!-- Data Models Section -->
    <section class="section">
      <h2 class="section-title">üìä Data Models</h2>
      
      <div class="model">
        <h3>Game Model</h3>
        <table class="model-table">
          <thead>
            <tr>
              <th>Field</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>title</td>
              <td>String</td>
              <td>Yes</td>
              <td>Game title (max 200 chars)</td>
            </tr>
            <tr>
              <td>genre</td>
              <td>String</td>
              <td>Yes</td>
              <td>Game genre</td>
            </tr>
            <tr>
              <td>platform</td>
              <td>String</td>
              <td>Yes</td>
              <td>Gaming platform</td>
            </tr>
            <tr>
              <td>releaseYear</td>
              <td>Number</td>
              <td>Yes</td>
              <td>Year released (1950 - current+2)</td>
            </tr>
            <tr>
              <td>publisher</td>
              <td>String</td>
              <td>Yes</td>
              <td>Game publisher</td>
            </tr>
            <tr>
              <td>rating</td>
              <td>Number</td>
              <td>No</td>
              <td>Rating 0-10</td>
            </tr>
            <tr>
              <td>description</td>
              <td>String</td>
              <td>No</td>
              <td>Game description (max 1000 chars)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="model">
        <h3>Review Model</h3>
        <table class="model-table">
          <thead>
            <tr>
              <th>Field</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>gameId</td>
              <td>String</td>
              <td>Yes</td>
              <td>Referenced game ObjectId</td>
            </tr>
            <tr>
              <td>reviewerName</td>
              <td>String</td>
              <td>Yes</td>
              <td>Reviewer name (max 100 chars)</td>
            </tr>
            <tr>
              <td>rating</td>
              <td>Number</td>
              <td>Yes</td>
              <td>Rating 1-5 stars</td>
            </tr>
            <tr>
              <td>comment</td>
              <td>String</td>
              <td>Yes</td>
              <td>Review comment (10-500 chars)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Error Handling Section -->
    <section class="section">
      <h2 class="section-title">‚ö†Ô∏è Error Handling</h2>
      <div class="error-examples">
        <div class="error-box">
          <h4>400 Bad Request</h4>
          <pre><code>{
  "success": false,
  "message": "Validation failed",
  "errors": ["Title is required"]
}</code></pre>
        </div>

        <div class="error-box">
          <h4>404 Not Found</h4>
          <pre><code>{
  "success": false,
  "message": "Game not found"
}</code></pre>
        </div>

        <div class="error-box">
          <h4>500 Internal Server Error</h4>
          <pre><code>{
  "success": false,
  "message": "Error fetching games",
  "error": "Connection timeout"
}</code></pre>
        </div>
      </div>
    </section>

    <!-- Test Console -->
    <section class="section">
      <h2 class="section-title">üß™ API Test Console</h2>
      <div id="testConsole" class="test-console">
        <p class="console-placeholder">Test results will appear here...</p>
      </div>
    </section>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 Game Library API | Built with Express & MongoDB by Henry Ugochukwu</p>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>